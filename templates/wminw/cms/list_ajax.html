{php}
$catid=request()->param('catid/d',0);
if (empty($catid)) {
$cat = request()->param('catdir/s', '');
$catid = getCategory($cat,'id');
}
$page=request()->param('page/d',1);
$offset=($page-1)*5;
$limit="$offset,5";
{/php}
{yzn module="cms" action="lists" catid="$catid" siteId="$site_id" cache="3600" order="listorder DESC" limit="$limit" return="data"}
{volist name="data" id="item"}
<div class="title-article list-card">
    {if $item.thumb}
    <div class="list-pic">
        <a href="{$item.url}" title="{$item.title}">
            <img src="{$item.thumb}" alt="{$item.title}" class="img-full">
        </a>
    </div>
    {/if}
    <a href="{$item.url}">
        <h1>{$item.title}</h1>
        <p>{$item.description}</p>
    </a>
    <div class="title-msg">
        <span><i class="layui-icon iconfont iconmenu"></i> <a href="{:getCategory($item['id'],'url')}">{:getCategory($item['id'],'catname')} </a></span>
        <span><i class="layui-icon iconfont icontime"></i> {$item.updatetime|date="Y-m-d"}</span>
        <span><i class="layui-icon iconfont iconbrowse"></i></i> {$item.hits}浏览</span>
    </div>
</div>
{/volist}
{/yzn}
{if !$__LIST__}
    <div class="loadmore loadmore-line loadmore-nodata page"><span class="loadmore-tips">暂无更多数据</span></div>
{else /}
<div class="page-navigator"><a href="?page={:$page+1}" data-page="{$page}" class="btn btn-loadmore">加载更多</a></div>
{/if}